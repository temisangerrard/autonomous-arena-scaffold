FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
COPY tsconfig.base.json ./
COPY eslint.config.mjs ./
COPY packages ./packages
COPY apps/web ./apps/web
RUN npm install
RUN npm run -w @arena/shared build && npm run -w @arena/web build
EXPOSE 3000
CMD ["npm", "run", "-w", "@arena/web", "start"]
